<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="layout :: layout (~{::title}, ~{::main})">
<head>
    <title>InÃ­cio</title>
</head>
<main>
    <h1>ðŸ“š Lista de Livros</h1>

    <form method="get" action="/">
        <input type="text" name="busca" placeholder="Buscar livro..." />
        <select name="filtro">
            <option value="titulo">TÃ­tulo</option>
            <option value="autor">Autor</option>
            <option value="categoria">Categoria</option>
        </select>
        <button type="submit">Buscar</button>
    </form>

    <div th:if="${usuarioLogado != null and usuarioLogado.tipo == 'ADMIN'}">
        <a href="/livros/novo">âž• Adicionar Livro</a>
    </div>

    <table border="1">
        <thead>
        <tr>
            <th>TÃ­tulo</th>
            <th>Autor</th>
            <th>ISBN</th>
            <th>Categoria</th>
            <th>AÃ§Ã£o</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="livro : ${livros}">
            <td th:text="${livro.titulo}"></td>
            <td th:text="${livro.autor}"></td>
            <td th:text="${livro.isbn}"></td>
            <td th:text="${livro.categoria}"></td>
            <td>
                <a th:href="@{'/alugar/' + ${livro.id}}">Alugar</a>
            </td>
        </tr>
        </tbody>
    </table>
</main>
</html>
